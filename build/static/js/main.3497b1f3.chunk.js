(this.webpackJsonpconversation_intelligence=this.webpackJsonpconversation_intelligence||[]).push([[0],[,,,function(e,t,r){e.exports={container:"transcript_container__21vf_",text:"transcript_text__158fp",time:"transcript_time__2DT5i",transcript:"transcript_transcript__3cz0y",containerHighlight:"transcript_containerHighlight__3n8z3",highlight:"transcript_highlight__3BIW-",opaque:"transcript_opaque__22Al5"}},function(e,t,r){e.exports={container:"player_container__2S9e0",icon:"player_icon__1XuBB",playPause:"player_playPause__2_7bd",dropdownContainer:"player_dropdownContainer__38DWd",dropdown:"player_dropdown__1hsyV",rate:"player_rate__3JMmB",currRate:"player_currRate__1N639",border:"player_border__2Flim"}},,function(e,t,r){e.exports={loaderAnimationContainer:"loader_loaderAnimationContainer__lSplh",backdrop:"loader_backdrop__lO6nN",spinnerContainer:"loader_spinnerContainer__2vJHM",spinner:"loader_spinner__3NJao",rotate:"loader_rotate__3synB"}},function(e,t,r){e.exports={container:"timer_container__204KT",duration:"timer_duration__3f-1w",currTime:"timer_currTime__2x_kJ",block:"timer_block__1zPzF"}},function(e,t,r){e.exports={container:"waveform_container__3xUNK",svgClass:"waveform_svgClass__3A5ki",stroke1:"waveform_stroke1__3mwdp",stroke2:"waveform_stroke2__KYGCJ",stroke0:"waveform_stroke0__MhJrA"}},,,,,,,,function(e,t,r){},,function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),i=r(10),s=r.n(i),c=(r(16),r(5)),o=r(4),d=r.n(o),u=r(2),l=r(11),m=r(0);var p=["className","name"],f={Forward:function(e){return Object(m.jsx)("svg",Object(u.a)(Object(u.a)({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:Object(m.jsx)("path",{d:"M13 6.333a.667.667 0 00-.667.667 5.367 5.367 0 11-1.48-3.667h-1.6a.667.667 0 000 1.334h3.02A.667.667 0 0012.94 4V1a.667.667 0 10-1.333 0v1.18A6.667 6.667 0 1013.667 7 .666.666 0 0013 6.333z",fill:"#5D6A7E"})}))},Backward:function(e){return Object(m.jsx)("svg",Object(u.a)(Object(u.a)({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:Object(m.jsx)("path",{d:"M1 6.333A.667.667 0 011.667 7a5.367 5.367 0 101.48-3.667h1.6a.667.667 0 010 1.334h-3.02A.667.667 0 011.06 4V1a.667.667 0 111.333 0v1.18A6.667 6.667 0 11.333 7 .667.667 0 011 6.333z",fill:"#5D6A7E"})}))},Play:function(e){return Object(m.jsx)("svg",Object(u.a)(Object(u.a)({width:10,height:12,viewBox:"0 0 10 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:Object(m.jsx)("path",{d:"M1.175.612a.484.484 0 01.522.02l7.159 4.91c.146.1.235.272.235.458a.555.555 0 01-.235.459l-7.159 4.909a.484.484 0 01-.522.02.552.552 0 01-.266-.479V1.091c0-.2.102-.383.266-.479zm.757 1.478v7.82L7.634 6 1.932 2.09z",fill:"#fff"})}))},Pause:function(e){return Object(m.jsx)("svg",Object(u.a)(Object(u.a)({width:10,height:14,viewBox:"0 0 10 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:Object(m.jsx)("path",{d:"M.909.864a.682.682 0 00-.682.681v10.91c0 .376.305.681.682.681h2.727a.682.682 0 00.682-.681V1.545a.682.682 0 00-.682-.681H.91zm.682 10.909V2.227h1.363v9.546H1.591zM6.364.864a.682.682 0 00-.682.681v10.91c0 .376.305.681.682.681H9.09a.682.682 0 00.682-.681V1.545A.682.682 0 009.09.864H6.364zm.681 10.909V2.227H8.41v9.546H7.045z",fill:"#fff"})}))},Search:function(e){return Object(m.jsx)("svg",Object(u.a)(Object(u.a)({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:Object(m.jsx)("path",{d:"M10.117 11.072a6.075 6.075 0 11.955-.955l2.48 2.48a.675.675 0 01-.954.955l-2.481-2.48zM1.6 6.325A4.725 4.725 0 009.602 9.73a.682.682 0 01.127-.127A4.725 4.725 0 101.6 6.325z",fill:"#1991EB"})}))},Speaker1:function(e){var t=e.x1,r=e.x2,n=e.y1,a=e.y2,i=e.linestyle,s=e.className,c=e.width,o=e.height;return Object(m.jsxs)("svg",{width:c,height:o||25,className:s,children:[Object(m.jsx)("line",{className:i,x1:t||0,x2:r||0,y1:n||0,y2:a||0}),Object(m.jsx)("line",{className:i,x1:t,x2:0,y1:n||0,y2:a||0})]})}},h=function(e){var t=e.className,r=e.name,n=Object(l.a)(e,p),a=f[r];return a?Object(m.jsx)(a,Object(u.a)({className:t||""},n)):null},j="play",v="pause",b="resetWaveform",w="syncWaveform",g="syncTimer",T="resetTimer",x=function(e,t){switch(t.type){case j:return t.payload.play(),Object(u.a)(Object(u.a)({},e),t.payload);case v:return t.payload.pause(),Object(u.a)(Object(u.a)({},e),t.payload);case w:case g:return Object(u.a)(Object(u.a)({},e),t.payload);case T:var r=Object(u.a)(Object(u.a)({},e),t);return r.updateTimer(0),r;case b:var n=Object(u.a)(Object(u.a)({},e),t);return n.resetWaveform(),n;default:return e}},O=function(e){var t=e.word_timings,r=e.transcript_text,n=[],a={};return t.forEach((function(e){e.reduce((function(t,r,i){var s=r.startTime,c=r.word;return i===e.length-1&&n.push({startTime:0,endTime:parseFloat(e[i].endTime.replace("s",""))}),s=parseFloat(s.replace("s","")).toFixed(3),a[s]=c,a}),a)})),{word_timings:t,wordObj:a,timeRange:n,transcript_text:r}},_={transcript_text:["This is Brian Isaacson with Guardian mortgage company at the sound of the tone, please leave your name phone number and a brief message, and I will return your call. Thank you.","Sounds good"],word_timings:[[{startTime:"2.400s",endTime:"2.800s",word:"This"},{startTime:"2.800s",endTime:"3s",word:"is"},{startTime:"3s",endTime:"3.400s",word:"Brian"},{startTime:"3.400s",endTime:"3.900s",word:"Isaacson"},{startTime:"3.900s",endTime:"4.100s",word:"with"},{startTime:"4.100s",endTime:"4.500s",word:"Guardian"},{startTime:"4.500s",endTime:"4.600s",word:"mortgage"},{startTime:"4.600s",endTime:"5.400s",word:"company"},{startTime:"5.400s",endTime:"5.700s",word:"at"},{startTime:"5.700s",endTime:"5.900s",word:"the"},{startTime:"5.900s",endTime:"6.100s",word:"sound"},{startTime:"6.100s",endTime:"6.200s",word:"of"},{startTime:"6.200s",endTime:"6.300s",word:"the"},{startTime:"6.300s",endTime:"6.500s",word:"tone,"},{startTime:"6.500s",endTime:"6.900s",word:"please"},{startTime:"6.900s",endTime:"7.200s",word:"leave"},{startTime:"7.200s",endTime:"7.300s",word:"your"},{startTime:"7.300s",endTime:"7.600s",word:"name"},{startTime:"7.600s",endTime:"8.200s",word:"phone"},{startTime:"8.200s",endTime:"8.300s",word:"number"},{startTime:"8.300s",endTime:"8.600s",word:"and"},{startTime:"8.600s",endTime:"8.700s",word:"a"},{startTime:"8.700s",endTime:"8.800s",word:"brief"},{startTime:"8.800s",endTime:"9s",word:"message,"},{startTime:"9s",endTime:"9.600s",word:"and"},{startTime:"9.600s",endTime:"10s",word:"I"},{startTime:"10s",endTime:"10.100s",word:"will"},{startTime:"10.100s",endTime:"10.400s",word:"return"},{startTime:"10.400s",endTime:"10.600s",word:"your"},{startTime:"10.600s",endTime:"10.900s",word:"call."},{startTime:"10.900s",endTime:"11.400s",word:"Thank"},{startTime:"11.400s",endTime:"11.500s",word:"you."}],[{startTime:"12.0s",endTime:"12.800s",word:"Sounds"},{startTime:"12.800s",endTime:"12.9s",word:"good"}]]},y=r(3),N=r.n(y),k=[.5,1,1.5,2,2.5,3],A=O(_),B=A.wordObj,C=A.timeRange,R=A.word_timings,F=a.a.createContext(),E=0,M=null,L=0,z=null,D=function(e){var t=e.children,r=e.audio,a=e.setLoading,i=Object(n.useState)(!1),s=Object(c.a)(i,2),o=s[0],d=s[1],l=Object(n.useRef)([]),p=Object(n.useRef)(null),f=Object(n.useState)(k[1]),h=Object(c.a)(f,2),j=h[0],v=h[1],w=Object(n.useState)(!1),g=Object(c.a)(w,2),O=g[0],_=g[1],y=Object(n.useReducer)(x,{}),A=Object(c.a)(y,2),D=A[0],P=A[1],S=function(e){var t;for(t=0;t<C.length;t++){var r=C[t],n=r.startTime,a=r.endTime;if(0===t&&e<n)return 0;if(e>=n&&e<=a)return t}return t>=C.length?t-1:-1},W=function(e){var t=q.audioRef;E=+e-.1,t.current.currentTime=E,L=S(e)},H=function(){L=0,E=0},I=function(){z&&z.classList.remove(N.a.highlight),z=null},J=function(){l.current.length&&l.current.forEach((function(e){e&&e.classList.remove(N.a.containerHighlight)}))},V=function(e){var t=e.toFixed(3),r=B[t];if(r){!function(e){var t=l.current[e];if(e>0){var r=l.current[e-1];r&&r.classList.remove(N.a.containerHighlight)}t&&!t.classList.contains(N.a.containerHighlight)&&t.classList.add(N.a.containerHighlight)}(L),L>l.current.length&&(L=S(t));var n=R[L],a=null;l.current.length&&L<l.current.length&&(a=l.current[L].getElementsByClassName(t)[0]),a&&!a.classList.contains(N.a.highlight)&&(z&&z.classList.remove(N.a.highlight),a.classList.add(N.a.highlight),z=a),r===n[n.length-1].word&&L++}},G=function(){E+=.1,D.syncWaveform(E),D.updateTimer(E),V(E)},K=function(){P({type:b,payload:{}}),P({type:T,payload:{}}),H(),d(!1),I(),J(),clearInterval(M)};Object(n.useEffect)((function(){var e=q.audioRef;return e.current.addEventListener("ended",K),e.current.addEventListener("canplaythrough",(function(){a(!1)})),function(){e.current.removeEventListener("ended",K)}}),[r]),Object(n.useEffect)((function(){var e=q.audioRef;clearInterval(M),e&&e.current&&(e.current.playbackRate=j,o&&(M=setInterval(G,100/j)))}),[j]);var q={canvasRef:p,audioRef:{current:r},playing:o,setPlaying:d,play:function(){console.log(D),q.audioRef.current.play(),M=setInterval(G,100/j)},pause:function(){console.log("convInt",D);var e=q.audioRef;clearInterval(M),e.current.pause()},dispatch:P,wordBlockRefList:l,playBackRate:j,setPlayBackRate:v,showDropDown:O,setShowDropDown:_,forward:function(){var e=q.audioRef;e&&e.current&&(e.current.currentTime=parseFloat(Math.round(e.current.currentTime).toFixed(1))+5,E=e.current.currentTime,D.updateTimer(E),D.syncWaveform(E))},backward:function(){var e=q.audioRef;if(e&&e.current){var t=parseFloat(Math.round(e.current.currentTime).toFixed(1))-5;e.current.currentTime=t<0?0:t,E=e.current.currentTime,L=S(t),J(),D.updateTimer(E),e.current.currentTime<=0&&(H(),I(),J())}},syncWordAudio:function(e){if(e&&e.target&&"span"===e.target.nodeName.toLowerCase()){var t=e.target.getAttribute("data-time").replace("s","");W(t)}},syncWaveformAudio:function(e){W(e)},getElapsedTime:function(){return E}};return Object(m.jsx)(F.Provider,{value:Object(u.a)({},q),children:t})},P=function(){var e=Object(n.useContext)(F),t=e.setPlaying,r=e.playing,a=e.playBackRate,i=e.setPlayBackRate,s=e.showDropDown,c=e.setShowDropDown,o=e.forward,u=e.backward,l=(e.convInt,e.dispatch),p=e.play,f=e.pause,b=function(){c((function(e){return!e}))};return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:d.a.container,children:[Object(m.jsx)(h,{name:"Backward",className:d.a.icon,onClick:u}),Object(m.jsx)("div",{className:d.a.playPause,children:Object(m.jsx)(h,{name:r?"Pause":"Play",className:d.a.icon,onClick:function(){l(r?{type:v,payload:{pause:f}}:{type:j,payload:{play:p}}),t((function(e){return!e}))}})}),Object(m.jsx)(h,{name:"Forward",className:d.a.icon,onClick:o}),Object(m.jsxs)("div",{className:d.a.dropdownContainer,children:[Object(m.jsxs)("div",{onClick:b,className:"".concat(d.a.currRate," ").concat(!s&&d.a.border),children:[a,"x"]}),s?Object(m.jsx)("div",{className:d.a.dropdown,children:k.map((function(e){return Object(m.jsxs)("div",{className:d.a.rate,onClick:function(){return function(e){i(e),b()}(e)},children:[e,"x"]},e)}))}):null]})]})})},S=function(e){e=parseFloat(e.replace("s","")).toFixed(2);var t=Math.floor(e/3600),r=Math.floor((e-3600*t)/60),n=Math.floor(e-3600*t-60*r);return r<10&&(r="0"+r),n<10&&(n="0"+n),t?"".concat(t,":").concat(r,":").concat(n):"".concat(r,":").concat(n)},W=function(e){return parseFloat(e.replace("s",""))},H=function(e){var t=Object(n.useContext)(F),r=t.syncWordAudio,a=t.wordBlockRefList,i=e.transcriptJson.word_timings,s=function(e){e&&a.current.push(e)};return Object(n.useMemo)((function(){return Object(m.jsx)("div",{className:N.a.transcript,children:i.map((function(e,t){return Object(m.jsxs)("div",{className:N.a.container,ref:s,children:[Object(m.jsx)("div",{className:N.a.time,children:S(e[0].startTime)}),Object(m.jsx)("div",{className:N.a.text,onClick:r,children:e.map((function(e,t){var r=parseFloat(e.startTime.replace("s","")),n="".concat(r.toFixed(3));return Object(m.jsxs)("span",{className:n,"data-time":e.startTime,"data-word":e.word,children:[e.word," "]},t)}))})]},t)}))})}),[i])},I=r(8),J=r.n(I),V=_.word_timings,G=function(e,t){return+(W(e)-W(t).toFixed(1))},K=function(e,t){return e/t*100},q=function(e,t){return e/t*100},X=function(e,t,r){return 100/e*(t-r)},U=0,Y=0,Q=0,Z=function(){var e=Object(n.useContext)(F),t=e.audioRef,r=e.dispatch,a=e.syncWaveformAudio,i=Object(n.useRef)(null),s=Object(n.useRef)([]),c=function(){U=0,Y=0,Q=0,o()},o=function(){for(var e=i.current.getElementsByTagName("svg"),t=0;t<e.length;t++){e[t].getElementsByTagName("line")[1].setAttribute("x2",0)}},d=function(e){.1===e&&c();var r=q(e,t.current.duration),n=s.current;if(U<n.length){var a=n[U];Y=parseFloat(a.getAttribute("width").replace("%")),Q=function(e,t,r,n,a,i){if(e){var s=e.getElementsByTagName("line")[1],c=Math.ceil(X(r,n,a));c>=100&&(U++,a+=parseFloat(i[U-1].getAttribute("width").replace("%"))),c<0?s.setAttribute("x2","0%"):c>100?s.setAttribute("x2","100%"):s.setAttribute("x2",c+"%"),s.style.stroke="#D3DAE3"}return a}(a,0,Y,r,Q,n)}},u=function(e){if(e){var t=e.getElementsByTagName("svg")[0];-1===s.current.indexOf(t)&&s.current.push(t)}};Object(n.useEffect)((function(){r({type:w,payload:{syncWaveform:d,resetWaveform:c}})}),[]);var l=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=50,a=-1;return e%2!==0&&(n=25,a=1),Object(m.jsx)("span",{ref:u,children:Object(m.jsx)(h,{name:"Speaker1",className:J.a.svgClass,linestyle:J.a["stroke".concat(-1===r?0:e+1)],height:n,width:"".concat(t,"%"),x1:0,y1:25*a,x2:"100%",y2:25*a})},t)},p=function(e,t){var r=e.getElementsByTagName("line")[1];r.setAttribute("x2",t),r.style.stroke="#D3DAE3"},f=function(e,r){for(;r&&"svg"!==(r.target&&r.target.nodeName||r.tagName);)r=r.target?r.target.parentNode:r.parentNode;r&&function(e,r){o(),Q=0;for(var n=0;n<r;n++){var i=s.current[n];p(i,"100%"),Q+=parseFloat(i.getAttribute("width").replace("%"))}var c=q(e,t.current.duration),d=s.current[r],u=parseFloat(d.getAttribute("width").replace("%")),l=Math.floor(X(u,c,Q));p(d,l+"%"),a(e)}(e,U=Math.max(s.current.indexOf(r),s.current.indexOf(r.target)))};return Object(m.jsxs)("div",{className:J.a.container,onClick:function(e){var r=Math.abs(t.current.duration/document.documentElement.offsetWidth*e.pageX),n=parseFloat(r.toFixed(1));f(n,e),a(n)},ref:i,children:[function(){var e=G(V[0][0].startTime,"0s"),r=K(e,t.current.duration);return l(0,r,0)}(),V.map((function(e,r){var n=t.current.duration,a=0,i=0,s=[];if(r>0){var c=V[r-1].length-1;a=G(e[0].startTime,V[r-1][c].endTime),i=K(a,n),s.push(l(r,i,r))}var o=e.length-1;return a=G(e[o].endTime,e[0].startTime),i=K(a,n),s.push(l(r,i)),s})),function(){var e=V[V.length-1],r=G(t.current.duration+"s",e[e.length-1].endTime),n=K(r,t.current.duration);return l(1,n,1)}()]})},$=r(6),ee=r.n($),te=function(e){var t=e.show,r=e.error,n=e.backdrop,a=e.spinner,i=e.className,s=void 0===i?"":i,c=e.containerClassName;return t?r?null:Object(m.jsxs)("div",{className:"".concat(ee.a.loaderAnimationContainer," ").concat(s),children:[n&&Object(m.jsx)("div",{className:ee.a.backdrop}),a&&Object(m.jsx)("div",{className:"".concat(ee.a.spinnerContainer," ").concat(c),children:Object(m.jsx)("div",{className:ee.a.spinner})})]}):null};te.defaultProps={show:!1,spinner:!0};var re=te,ne=r(7),ae=r.n(ne),ie=function(){var e=Object(n.useContext)(F),t=e.audioRef,r=e.dispatch,a=Object(n.useState)("00:00"),i=Object(c.a)(a,2),s=i[0],o=i[1],d=function(e){e=S(e+"s"),o(e)};return Object(n.useEffect)((function(){r({type:g,payload:{updateTimer:d}})}),[]),Object(m.jsx)("div",{className:ae.a.container,children:Object(m.jsxs)("div",{className:ae.a.block,children:[Object(m.jsx)("span",{className:ae.a.currTime,children:s}),Object(m.jsxs)("span",{className:ae.a.duration,children:[" ","/ ",S(t.current.duration+"s")]})]})})},se=new Audio("https://zenprospect-production.s3.amazonaws.com/uploads/phone_call/uploaded_content/59e106639d79684277df770d.wav");var ce=function(){var e=Object(n.useState)(!0),t=Object(c.a)(e,2),r=t[0],a=t[1];return Object(m.jsxs)("div",{children:[Object(m.jsx)(D,{audio:se,setLoading:a,children:!r&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(P,{}),Object(m.jsx)(ie,{}),Object(m.jsx)(Z,{}),Object(m.jsx)(H,{transcriptJson:_})]})}),Object(m.jsx)(re,{show:r,backdrop:!0,spinner:!0})]})};s.a.render(Object(m.jsx)(ce,{}),document.getElementById("root"))}],[[18,1,2]]]);
//# sourceMappingURL=main.3497b1f3.chunk.js.map